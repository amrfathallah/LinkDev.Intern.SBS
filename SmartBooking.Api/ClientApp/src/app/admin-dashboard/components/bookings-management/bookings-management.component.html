<mat-card class="section-card">
  <mat-card-header class="mb-3">
    <mat-card-title>All Bookings Management</mat-card-title>
    <div class="spacer"></div>
    <button mat-raised-button color="primary" (click)="refreshData()">
      <mat-icon>refresh</mat-icon>
      Refresh
    </button>
  </mat-card-header>

  <mat-card-content>
    <!-- Filters Component -->
    <app-booking-filters
      [allResourceTypes]="allResourceTypes"
      [allBookingStatuses]="allBookingStatuses"
      [uniqueUsers]="uniqueUsers"
      (filtersApplied)="onFiltersApplied($event)"
      (filtersCleared)="onFiltersCleared()"
    ></app-booking-filters>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-message">
      <mat-icon>error</mat-icon>
      <span>{{ errorMessage }}</span>
    </div>

    <!-- Table Component -->
    <app-booking-table
      [bookings]="bookings"
      [totalCount]="totalCount"
      [currentPageIndex]="currentPageIndex"
      [currentPageSize]="currentPageSize"
      [currentSortBy]="currentSortColumn"
      [currentSortDirection]="currentSortDirection"
      [isLoading]="isLoading"
      (sortChanged)="onSortChanged($event)"
      (pageChanged)="onPageChanged($event)"
    ></app-booking-table>
  </mat-card-content>
</mat-card>
